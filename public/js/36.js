(self.webpackChunk=self.webpackChunk||[]).push([[36],{7823:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var s=n(3645),r=n.n(s)()((function(t){return t[1]}));r.push([t.id,".back[data-v-1cd8d89e]{margin:-111px 0 0 1039px;position:inherit;text-align:right}",""]);const o=r},6036:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var s=n(7757),r=n.n(s);function o(t,e,n,s,r,o,i){try{var a=t[o](i),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(s,r)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function a(t){o(i,s,r,a,c,"next",t)}function c(t){o(i,s,r,a,c,"throw",t)}a(void 0)}))}}const a={data:function(){return{users:[{client_id:"",description:"",amount:"",address:"",code:""}],Invoices:[],sum:""}},mounted:function(){this.getInvoices()},methods:{getInvoices:function(){var t=this;return i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/api/Invoice/").then((function(e){t.Invoices=e.data.Invoices,t.sum=e.data.Sum})).catch((function(e){console.log(e),t.Invoices=[]}));case 2:case"end":return e.stop()}}),e)})))()},addRow:function(){this.users.push({description:"",amount:"",address:""})},deleteRow:function(t){this.users.splice(t,1)},deleteInvoice:function(t){var e=this;confirm("Are you sure to delete this Invoice ?")&&this.axios.delete("/api/Invoice/".concat(t)).then((function(t){e.getInvoices()})).catch((function(t){console.log(t)}))},create:function(){var t=this;return i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.axios.post("/api/Invoice",{client_id:t.$route.params.id,description:t.users.description,code:"#00"+t.$route.params.id,amount:t.users.amount,address:t.users.address}).then((function(e){t.getInvoices(),t.$router.go(),t.errors=error.response.data.errors})).catch((function(e){t.errors=e.response.data.errors}));case 2:case"end":return e.stop()}}),e)})))()}}};var c=n(3379),u=n.n(c),d=n(7823),v={insert:"head",singleton:!1};u()(d.Z,v);d.Z.locals;const l=(0,n(1900).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Invoice \r\n        ")]),t._v(" "),n("div",[n("router-link",{staticClass:"btn btn-primary back",attrs:{to:{name:"ClientList"}}},[t._v("← Back")])],1),t._v(" "),n("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),t.Invoices.length>0?n("tbody",[t._l(t.Invoices,(function(e,s){return n("tr",{key:s},[n("td",[t._v(t._s(e.description))]),t._v(" "),n("td",[t._v("$ "+t._s(e.amount))]),t._v(" "),n("td",[t._v(t._s(e.address))]),t._v(" "),n("td",[n("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"InvoiceEdit",params:{id:e.id}}}},[t._v("Edit")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(n){return t.deleteInvoice(e.id)}}},[t._v("Delete")])],1)])})),t._v(" "),n("tr",[n("h2",[t._v("Total")]),t._v(" "),n("td",[n("b",[t._v("$"+t._s(t.sum))])])])],2):n("tbody",[t._m(1)]),t._v(" "),n("tbody",t._l(t.users,(function(e,s){return n("tr",{key:s},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.users.client_id,expression:"users.client_id"}],staticClass:"form-control",attrs:{name:"client_id",type:"hidden"},domProps:{value:t.users.client_id},on:{input:function(e){e.target.composing||t.$set(t.users,"client_id",e.target.value)}}}),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.users.description,expression:"users.description"}],staticClass:"form-control",attrs:{name:"description",type:"text"},domProps:{value:t.users.description},on:{input:function(e){e.target.composing||t.$set(t.users,"description",e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.users.amount,expression:"users.amount"}],staticClass:"form-control",attrs:{name:"amount",type:"number"},domProps:{value:t.users.amount},on:{input:function(e){e.target.composing||t.$set(t.users,"amount",e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.users.address,expression:"users.address"}],staticClass:"form-control",attrs:{name:"address",type:"text"},domProps:{value:t.users.address},on:{input:function(e){e.target.composing||t.$set(t.users,"address",e.target.value)}}})]),t._v(" "),n("td",[n("button",{staticClass:"btn btn-primary",on:{click:t.create}},[t._v("Save")]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteRow(s)}}},[t._v("Drop")])])])})),0)]),t._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",on:{click:t.addRow}},[t._v("Add Row")])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"text"},[n("tr",[n("th",[t._v("Desciption")]),t._v(" "),n("th",[t._v("Amount")]),t._v(" "),n("th",[t._v("Address")]),t._v(" "),n("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{attrs:{colspan:"4",align:"center"}},[t._v("No Invoices Found.")])])}],!1,null,"1cd8d89e",null).exports}}]);