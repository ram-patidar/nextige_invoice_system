(self.webpackChunk=self.webpackChunk||[]).push([[507],{8507:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var i=n(7757),o=n.n(i);function s(t,e,n,i,o,s,c){try{var a=t[s](c),r=a.value}catch(t){return void n(t)}a.done?e(r):Promise.resolve(r).then(i,o)}const c={name:"Invoices",data:function(){return{Invoices:[]}},mounted:function(){this.getInvoices()},methods:{getInvoices:function(){var t,e=this;return(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/api/Invoice").then((function(t){e.Invoices=t.data.Invoices,e.Invoices.sort((function(t,e){return t.weight<e.weight?1:-1})),console.log(e.Invoices)})).catch((function(t){console.log(t),e.Invoices=[]}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,o){var c=t.apply(e,n);function a(t){s(c,i,o,a,r,"next",t)}function r(t){s(c,i,o,a,r,"throw",t)}a(void 0)}))})()},deleteInvoice:function(t,e){var n=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(i){i.value&&n.axios.delete("/api/Invoice/".concat(t)).then((function(t){n.$swal("Deleted!","".concat(e," has been deleted."),"success")})),n.getInvoices()}))},clientData:function(t){console.log(t)}}};const a=(0,n(1900).Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 mb-2 text-end"},[n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/invoice/add"}},[t._v("Create Invoice")])],1),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[t._m(0),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-bordered text-center"},[t._m(1),t._v(" "),t.Invoices.length>0?n("tbody",t._l(t.Invoices,(function(e,i){return n("tr",{key:i},[n("td",[t._v("01/01/2021")]),t._v(" "),n("td",[t._v(t._s(e.client_id)+"/Client Name")]),t._v(" "),n("td",[t._v("status")]),t._v(" "),n("td",[t._v("$"+t._s(e.amount))]),t._v(" "),n("td",[n("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"invoiceedit",params:{id:e.id}}}},[t._v("Edit")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(n){return t.deleteInvoice(e.id,e.description)}}},[t._v("Delete")])],1)])})),0):n("tbody",[t._m(2)])])])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header"},[n("h4",[t._v("Invoice")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Date")]),t._v(" "),n("th",[t._v("Client")]),t._v(" "),n("th",[t._v("Status")]),t._v(" "),n("th",[t._v("Amount")]),t._v(" "),n("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{attrs:{colspan:"4",align:"center"}},[t._v("No Invoices Found.")])])}],!1,null,null,null).exports}}]);